webpackJsonp([9],{Sdg8:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("3as3"),s=e("lbHh"),l=e.n(s),o={name:"bdList",data:function(){return{bdId:"",bdName:"",address:"",list:[],total:0,page:1,limit:10,dialogVisible:!1,dialogTitle:"",bdId_dialog:"",bdName_dialog:"",address_dialog:"",csPort_dialog:"",voicePort_dialog:"",addBtnStatus:!1,updateBtnStatus:!1,checkStatus:!0,oldBdId:""}},mounted:function(){this.searchList()},methods:{deleteBD:function(t,a){var e=this;console.log(t,a),this.$confirm("是否确认删除该条记录？ ID:"+a.bdId+"  局向名:"+a.bdName,"确认删除",{distinguishCancelAndClose:!0,confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(){e.$axios.get("bd/deleteBD?bdId="+a.bdId).then(function(){e.alertMessage("删除成功"),e.searchList()}).catch(function(t){e.alertMessage("删除失败"+t)})}).catch(function(t){console.log(t)})},updateBD:function(){var t=this,a={bdId:this.bdId_dialog,bdName:this.bdName_dialog,address:this.address_dialog,csPort:this.csPort_dialog,voicePort:this.voicePort_dialog,oldBdId:this.oldBdId};this.$axios.post("bd/updateBD",a).then(function(){t.alertMessage("更新成功"),t.searchList()}).catch(function(a){t.alertMessage("更新失败"+a)}),this.dialogVisible=!1},addBD:function(){var t=this,a={bdId:this.bdId_dialog,bdName:this.bdName_dialog,address:this.address_dialog,csPort:this.csPort_dialog,voicePort:this.voicePort_dialog};this.$axios.post("bd/addBD",a).then(function(){t.alertMessage("添加成功"),t.searchList()}).catch(function(a){t.alertMessage("添加失败"+a)}),this.dialogVisible=!1},alertMessage:function(t){var a=this.$createElement;this.$message({message:a("p",null,[a("span",{style:"color: teal"},t)])})},checkBdId:function(){var t=this;this.$axios.get("bd/checkBdId?bdId="+this.bdId_dialog).then(function(a){console.log(a),a.data.data&&t.bdId_dialog!==t.oldBdId?(t.checkStatus=!0,t.alertMessage("局向码已存在")):""===t.bdId_dialog?(t.checkStatus=!0,t.alertMessage("局向码不能为空")):t.checkStatus=!1}).catch(function(t){console.log(t)})},showUpdateDialog:function(t,a){console.log(a),this.dialogTitle="修改局向",this.bdId_dialog=a.bdId,this.bdName_dialog=a.bdName,this.address_dialog=a.address,this.csPort_dialog=a.csPort,this.voicePort_dialog=a.voicePort,this.oldBdId=a.bdId,this.addBtnStatus=!1,this.updateBtnStatus=!0,this.dialogVisible=!0,this.checkStatus=!1},showAddDialog:function(){this.dialogTitle="添加局向",this.bdId_dialog="",this.bdName_dialog="",this.address_dialog="",this.csPort_dialog="",this.voicePort_dialog="",this.addBtnStatus=!0,this.updateBtnStatus=!1,this.dialogVisible=!0,this.checkStatus=!0},handleClose:function(t){t()},axiosUrl:function(){var t=this,a=(this.page-1)*this.limit,e=this.limit;this.$axios.get("bd/bdList?start="+a+"&limit="+e+"&bdId="+this.bdId+"&bdName="+this.bdName+"&address="+this.address).then(function(a){t.list=a.data.data.list,t.total=a.data.data.total}).catch(function(t){console.log(t),l.a.remove("token"),location.reload()})},searchList:function(){this.page=1,this.axiosUrl()},changeList:function(t){t&&(this.limit=t.limit),this.axiosUrl()},clearInput:function(){this.bdId="",this.bdName="",this.address="",this.searchList()},filterHandler:function(t,a,e){return a[e.property]===t}},components:{Pagination:i.a}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-input",{staticClass:"searchInput",attrs:{type:"text",placeholder:"请输入局向ID",maxlength:"30","show-word-limit":""},model:{value:t.bdId,callback:function(a){t.bdId=a},expression:"bdId"}}),t._v(" "),e("el-input",{staticClass:"searchInput",attrs:{type:"text",placeholder:"请输入局向名",maxlength:"30","show-word-limit":""},model:{value:t.bdName,callback:function(a){t.bdName=a},expression:"bdName"}}),t._v(" "),e("el-input",{staticClass:"searchInput",attrs:{type:"text",placeholder:"请输入局向IP",maxlength:"30","show-word-limit":""},model:{value:t.address,callback:function(a){t.address=a},expression:"address"}}),t._v(" "),e("el-button",{staticClass:"searchBtn",attrs:{type:"success",loading:!1},on:{click:t.searchList}},[t._v("查 询")]),t._v(" "),e("el-button",{attrs:{type:"warning"},on:{click:t.clearInput}},[t._v("清 空")]),t._v(" "),e("el-button",{attrs:{type:"danger"},on:{click:t.showAddDialog}},[t._v("创 建")]),t._v(" "),[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[e("el-table-column",{attrs:{type:"index",label:"#"}}),t._v(" "),e("el-table-column",{attrs:{prop:"bdId",label:"局向码"}}),t._v(" "),e("el-table-column",{attrs:{prop:"address",label:"局向IP地址"}}),t._v(" "),e("el-table-column",{attrs:{prop:"csPort",label:"局向信令端口"}}),t._v(" "),e("el-table-column",{attrs:{prop:"voicePort",label:"局向语音端口"}}),t._v(" "),e("el-table-column",{attrs:{prop:"bdName",label:"局向名"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.showUpdateDialog(a.$index,a.row)}}},[t._v("修改\n          ")]),t._v(" "),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteBD(a.$index,a.row)}}},[t._v("删除\n          ")])]}}])})],1)],t._v(" "),e("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.page,limit:t.limit},on:{"update:page":function(a){t.page=a},"update:limit":function(a){t.limit=a},pagination:t.changeList}}),t._v(" "),e("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-input",{staticClass:"dialogInput",attrs:{type:"text",placeholder:"请输入局向ID",maxlength:"30","show-word-limit":""},on:{focus:function(a){t.checkStatus=!0},blur:t.checkBdId},model:{value:t.bdId_dialog,callback:function(a){t.bdId_dialog=a},expression:"bdId_dialog"}})],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-input",{staticClass:"dialogInput",attrs:{type:"text",placeholder:"请输入局向IP地址",maxlength:"30","show-word-limit":""},model:{value:t.address_dialog,callback:function(a){t.address_dialog=a},expression:"address_dialog"}})],1)],1),t._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-input",{staticClass:"dialogInput",attrs:{type:"number",placeholder:"请输入局向信令端口(数字)",oninput:"if(value.length>11)value=value.slice(0,11);if(value<0)value=0"},model:{value:t.csPort_dialog,callback:function(a){t.csPort_dialog=a},expression:"csPort_dialog"}})],1),t._v(" "),e("el-col",{attrs:{span:12}},[e("el-input",{staticClass:"dialogInput",attrs:{type:"number",placeholder:"局向语音端口(数字)",oninput:"if(value.length>11)value=value.slice(0,11);if(value<0)value=0"},model:{value:t.voicePort_dialog,callback:function(a){t.voicePort_dialog=a},expression:"voicePort_dialog"}})],1)],1),t._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-input",{staticClass:"dialogInput",attrs:{type:"text",placeholder:"请输入局向名",maxlength:"30","show-word-limit":""},model:{value:t.bdName_dialog,callback:function(a){t.bdName_dialog=a},expression:"bdName_dialog"}})],1)],1),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.addBtnStatus,expression:"addBtnStatus"}],attrs:{type:"primary",disabled:t.checkStatus},on:{click:t.addBD}},[t._v("添 加")]),t._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.updateBtnStatus,expression:"updateBtnStatus"}],attrs:{type:"primary",disabled:t.checkStatus},on:{click:t.updateBD}},[t._v("更 新")])],1)],1)],2)},staticRenderFns:[]};var n=e("VU/8")(o,d,!1,function(t){e("ilf+")},"data-v-7a76c44d",null);a.default=n.exports},"ilf+":function(t,a){}});
//# sourceMappingURL=9.d5b3c6134a6d96061a87.js.map