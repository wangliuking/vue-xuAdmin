{"version":3,"sources":["webpack:///src/views/admin/userBookList.vue","webpack:///./src/views/admin/userBookList.vue?efea","webpack:///./src/views/admin/userBookList.vue"],"names":["userBookList","name","watch","data","titles","list","total","page","limit","dialogVisible","dialogTitle","id_dialog","name_dialog","addBtnStatus","updateBtnStatus","checkStatus","bookIdDialog","value","filterMethod","query","item","label","indexOf","mounted","this","searchList","getUserIdList","methods","_this","$axios","get","then","response","forEach","index","push","userId","key","catch","err","console","log","deleteUserBook","_this2","$confirm","id","distinguishCancelAndClose","confirmButtonText","cancelButtonText","alertMessage","update","_this3","length","userList","val","post","add","_this4","message","h","$createElement","$message","style","checkWord","_this5","showUpdateDialog","userBookDetail","tempValue","param","showAddDialog","handleClose","done","axiosUrl","_this6","start","js_cookie_default","a","remove","location","reload","changeList","clearInput","filterHandler","row","column","components","Pagination","admin_userBookList","render","_vm","_h","_c","_self","staticClass","attrs","type","placeholder","maxlength","show-word-limit","model","callback","$$v","expression","_v","loading","on","click","_l","staticStyle","margin-bottom","span","shadow","slot","_s","float","padding","$event","width","height","prop","directives","rawName","update:page","update:limit","pagination","title","visible","before-close","update:visible","focus","blur","filterable","filter-method","filter-placeholder","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2IAoGAA,GACAC,KAAA,eACAC,SACAC,KAHA,WAIA,OACAF,KAAA,GACAG,QAAA,iBACAC,QACAC,MAAA,EACAC,KAAA,EACAC,MAAA,GACAC,eAAA,EACAC,YAAA,GACAC,UAAA,GACAC,YAAA,GACAC,cAAA,EACAC,iBAAA,EACAC,aAAA,EACAC,cAAA,EACAb,QACAc,SACAC,aAjBA,SAiBAC,EAAAC,GACA,OAAAA,EAAAC,MAAAC,QAAAH,IAAA,KAIAI,QA1BA,WA2BAC,KAAAC,aACAD,KAAAE,iBAEAC,SACAD,cADA,WACA,IAAAE,EAAAJ,KACAA,KAAAK,OAAAC,IAAA,oEACAC,KAAA,SAAAC,GACA,IAAA7B,KACA6B,EAAA7B,UAAAE,KAAA4B,QAAA,SAAAb,EAAAc,GACA/B,EAAAgC,MACAd,MAAAD,EAAAgB,OACAC,IAAAH,MAGAN,EAAAzB,SACAmC,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAGAG,eAhBA,SAgBAtB,GAAA,IAAAuB,EAAAnB,KACAA,KAAAoB,SAAA,kBAAAxB,EAAAyB,GAAA,OAAAzB,EAAAnB,KAAA,QACA6C,2BAAA,EACAC,kBAAA,KACAC,iBAAA,OACAjB,KAAA,WACAY,EAAAd,OAAAC,IAAA,8BAAAV,EAAAyB,IACAd,KAAA,WACAY,EAAAM,aAAA,QACAN,EAAAlB,eACAa,MAAA,SAAAC,GACAI,EAAAM,aAAA,OAAAV,OAEAD,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAGAW,OAjCA,WAiCA,IAAAC,EAAA3B,KACA,QAAAA,KAAAZ,YAIA,OAAAY,KAAAP,MAAAmC,OAAA,CAKA,IAAAC,KACA7B,KAAArB,KAAA8B,QAAA,SAAAb,GACA,IAAAC,EAAAD,EAAAC,MACAgB,EAAAjB,EAAAiB,IACAc,EAAAlC,MAAAgB,QAAA,SAAAqB,GACAA,IAAAjB,GACAgB,EAAAlB,KAAAd,OAIA,IAAAlB,GACA0C,GAAArB,KAAAb,UACAV,KAAAuB,KAAAZ,YACAyC,YAEA7B,KAAAK,OAAA0B,KAAA,0BAAApD,GACA4B,KAAA,WACAoB,EAAAF,aAAA,QACAE,EAAA1B,eACAa,MAAA,SAAAC,GACAY,EAAAF,aAAA,OAAAV,KAEAf,KAAAf,eAAA,OA1BAe,KAAAyB,aAAA,gBAJAzB,KAAAyB,aAAA,cAgCAO,IAnEA,WAmEA,IAAAC,EAAAjC,KACA,QAAAA,KAAAZ,YAIA,OAAAY,KAAAP,MAAAmC,OAAA,CAKA,IAAAC,KACA7B,KAAArB,KAAA8B,QAAA,SAAAb,GACA,IAAAC,EAAAD,EAAAC,MACAgB,EAAAjB,EAAAiB,IACAoB,EAAAxC,MAAAgB,QAAA,SAAAqB,GACAA,IAAAjB,GACAgB,EAAAlB,KAAAd,OAIA,IAAAlB,GACA0C,GAAArB,KAAAb,UACAV,KAAAuB,KAAAZ,YACAyC,YAEA7B,KAAAK,OAAA0B,KAAA,uBAAApD,GACA4B,KAAA,WACA0B,EAAAR,aAAA,QACAQ,EAAAhC,eACAa,MAAA,SAAAC,GACAkB,EAAAR,aAAA,OAAAV,KAEAf,KAAAf,eAAA,OA1BAe,KAAAyB,aAAA,gBAJAzB,KAAAyB,aAAA,cAgCAA,aArGA,SAqGAS,GACA,IAAAC,EAAAnC,KAAAoC,eACApC,KAAAqC,UACAH,QAAAC,EAAA,UACAA,EAAA,QAAAG,MAAA,eAAAJ,QAIAK,UA7GA,WA6GA,IAAAC,EAAAxC,KACA,QAAAA,KAAAb,UAGA,OAFAa,KAAAT,aAAA,OACAS,KAAAyB,aAAA,aAGAzB,KAAAK,OAAAC,IAAA,uBAAAN,KAAAb,WACAoB,KAAA,SAAAC,GACAQ,QAAAC,IAAAT,GACAA,EAAA7B,WACA6D,EAAAjD,aAAA,EACAiD,EAAAf,aAAA,aAEAe,EAAAjD,aAAA,IAEAuB,MAAA,SAAAC,GACAC,QAAAC,IAAAF,MAGA0B,iBAhIA,SAgIA7C,GACAI,KAAAd,YAAA,QACAc,KAAAR,cAAA,EACAQ,KAAAb,UAAAS,EAAAyB,GACArB,KAAAZ,YAAAQ,EAAAnB,KACA,IAAAiE,EAAA9C,EAAA8C,eACAC,KACA3C,KAAArB,KAAA8B,QAAA,SAAAb,GACA,IAAAC,EAAAD,EAAAC,MACAgB,EAAAjB,EAAAiB,IACA6B,EAAAjC,QAAA,SAAAmC,GACAA,EAAAhC,SAAAf,GACA8C,EAAAhC,KAAAE,OAIAb,KAAAP,MAAAkD,EACA3C,KAAAX,cAAA,EACAW,KAAAV,iBAAA,EACAU,KAAAf,eAAA,EACAe,KAAAT,aAAA,GAEAsD,cAtJA,WAuJA7C,KAAAd,YAAA,QACAc,KAAAR,cAAA,EACAQ,KAAAZ,YAAA,GACAY,KAAAP,SACAO,KAAAX,cAAA,EACAW,KAAAV,iBAAA,EACAU,KAAAf,eAAA,EACAe,KAAAT,aAAA,GAEAuD,YAhKA,SAgKAC,GAOAA,KAEAC,SAzKA,WAyKA,IAAAC,EAAAjD,KACAkD,GAAAlD,KAAAjB,KAAA,GAAAiB,KAAAhB,MACAA,EAAAgB,KAAAhB,MACAgB,KAAAK,OAAAC,IAAA,+BAAA4C,EAAA,UAAAlE,EAAA,SAAAgB,KAAAvB,MACA8B,KAAA,SAAAC,GACAyC,EAAApE,KAAA2B,EAAA7B,UAAAE,KACAoE,EAAAnE,MAAA0B,EAAA7B,UAAAG,QACAgC,MAAA,SAAAC,GACAC,QAAAC,IAAAF,GACQoC,EAAAC,EAARC,OAAA,SACAC,SAAAC,YAGAtD,WAtLA,WAuLAD,KAAAjB,KAAA,EACAiB,KAAAgD,YAEAQ,WA1LA,SA0LA7E,GACAA,IACAqB,KAAAhB,MAAAL,EAAAK,OAEAgB,KAAAgD,YAEAS,WAhMA,WAiMAzD,KAAAvB,KAAA,GACAuB,KAAAC,cAEAyD,cApMA,SAoMAjE,EAAAkE,EAAAC,GAEA,OAAAD,EADAC,EAAA,YACAnE,IAGAoE,YAAAC,aAAA,ICxUeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAjE,KAAakE,EAAAD,EAAA7B,eAA0B+B,EAAAF,EAAAG,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,OAAAA,EAAA,UAAAA,EAAA,YAA6CE,YAAA,cAAAC,OAAiCC,KAAA,OAAAC,YAAA,WAAAC,UAAA,KAAAC,kBAAA,IAA6EC,OAAQlF,MAAAwE,EAAA,KAAAW,SAAA,SAAAC,GAA0CZ,EAAAxF,KAAAoG,GAAaC,WAAA,UAAoBb,EAAAc,GAAA,KAAAZ,EAAA,aAA8BE,YAAA,YAAAC,OAA+BC,KAAA,UAAAS,SAAA,GAAiCC,IAAKC,MAAAjB,EAAAhE,cAAwBgE,EAAAc,GAAA,SAAAd,EAAAc,GAAA,KAAAZ,EAAA,aAA8CG,OAAOC,KAAA,WAAiBU,IAAKC,MAAAjB,EAAAR,cAAwBQ,EAAAc,GAAA,SAAAd,EAAAc,GAAA,KAAAZ,EAAA,aAA8CG,OAAOC,KAAA,UAAgBU,IAAKC,MAAAjB,EAAApB,iBAA2BoB,EAAAc,GAAA,aAAAd,EAAAc,GAAA,KAAAZ,EAAA,SAAAF,EAAAkB,GAAAlB,EAAA,cAAArE,EAAAc,GAAqF,OAAAyD,EAAA,UAAoBtD,IAAAH,EAAA0E,aAAuBC,gBAAA,QAAuBf,OAAQgB,KAAA,KAAUnB,EAAA,WAAgBE,YAAA,WAAAC,OAA8BiB,OAAA,WAAkBpB,EAAA,OAAYE,YAAA,WAAAC,OAA8BkB,KAAA,UAAgBA,KAAA,WAAerB,EAAA,QAAAF,EAAAc,GAAAd,EAAAwB,GAAA7F,EAAAnB,SAAAwF,EAAAc,GAAA,KAAAZ,EAAA,aAAqEiB,aAAaM,MAAA,QAAAC,QAAA,SAAkCrB,OAAQC,KAAA,QAAcU,IAAKC,MAAA,SAAAU,GAAyB,OAAA3B,EAAAxB,iBAAA7C,OAAoCqE,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAZ,EAAA,aAA6CiB,aAAaM,MAAA,QAAAC,QAAA,SAAkCrB,OAAQC,KAAA,QAAcU,IAAKC,MAAA,SAAAU,GAAyB,OAAA3B,EAAA/C,eAAAtB,OAAkCqE,EAAAc,GAAA,YAAAd,EAAAc,GAAA,KAAAZ,EAAA,OAA2CE,YAAA,cAAwBF,EAAA,YAAiBiB,aAAaS,MAAA,QAAevB,OAAQwB,OAAA,MAAAnH,KAAAiB,EAAA8C,kBAA2CyB,EAAA,mBAAwBG,OAAOyB,KAAA,SAAAlG,MAAA,OAAAgG,MAAA,SAA8C5B,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCG,OAAOyB,KAAA,WAAAlG,MAAA,KAAAgG,MAAA,UAA8C,eAAgB,GAAA5B,EAAAc,GAAA,KAAAZ,EAAA,cAAkC6B,aAAavH,KAAA,OAAAwH,QAAA,SAAAxG,MAAAwE,EAAAnF,MAAA,EAAAgG,WAAA,YAAsER,OAASxF,MAAAmF,EAAAnF,MAAAC,KAAAkF,EAAAlF,KAAAC,MAAAiF,EAAAjF,OAAoDiG,IAAKiB,cAAA,SAAAN,GAA+B3B,EAAAlF,KAAA6G,GAAgBO,eAAA,SAAAP,GAAiC3B,EAAAjF,MAAA4G,GAAiBQ,WAAAnC,EAAAT,cAA8BS,EAAAc,GAAA,KAAAZ,EAAA,aAA8BG,OAAO+B,MAAApC,EAAA/E,YAAAoH,QAAArC,EAAAhF,cAAA4G,MAAA,MAAAU,eAAAtC,EAAAnB,aAAiGmC,IAAKuB,iBAAA,SAAAZ,GAAkC3B,EAAAhF,cAAA2G,MAA2BzB,EAAA,UAAAA,EAAA,UAA4BG,OAAOgB,KAAA,MAAWnB,EAAA,YAAiB6B,aAAavH,KAAA,OAAAwH,QAAA,SAAAxG,MAAAwE,EAAA,aAAAa,WAAA,iBAAgFT,YAAA,cAAAC,OAAmCC,KAAA,OAAAC,YAAA,WAAAC,UAAA,KAAAC,kBAAA,IAA6EO,IAAKwB,MAAA,SAAAb,GAAyB3B,EAAA1E,aAAA,GAAuBmH,KAAAzC,EAAA1B,WAAsBoC,OAAQlF,MAAAwE,EAAA,UAAAW,SAAA,SAAAC,GAA+CZ,EAAA9E,UAAA0F,GAAkBC,WAAA,gBAAyB,GAAAb,EAAAc,GAAA,KAAAZ,EAAA,UAA+BG,OAAOgB,KAAA,MAAWnB,EAAA,YAAiBE,YAAA,cAAAC,OAAiCC,KAAA,OAAAC,YAAA,WAAAC,UAAA,KAAAC,kBAAA,IAA6EC,OAAQlF,MAAAwE,EAAA,YAAAW,SAAA,SAAAC,GAAiDZ,EAAA7E,YAAAyF,GAAoBC,WAAA,kBAA2B,OAAAb,EAAAc,GAAA,KAAAZ,EAAA,UAAAA,EAAA,eAAqDG,OAAOqC,WAAA,GAAAC,gBAAA3C,EAAAvE,aAAAmH,qBAAA,UAAAjI,OAAAqF,EAAArF,OAAAD,KAAAsF,EAAAtF,MAAoHgG,OAAQlF,MAAAwE,EAAA,MAAAW,SAAA,SAAAC,GAA2CZ,EAAAxE,MAAAoF,GAAcC,WAAA,YAAqB,GAAAb,EAAAc,GAAA,KAAAZ,EAAA,QAA6BE,YAAA,gBAAAC,OAAmCkB,KAAA,UAAgBA,KAAA,WAAerB,EAAA,aAAkBc,IAAIC,MAAA,SAAAU,GAAyB3B,EAAAhF,eAAA,MAA4BgF,EAAAc,GAAA,SAAAd,EAAAc,GAAA,KAAAZ,EAAA,aAA8C6B,aAAavH,KAAA,OAAAwH,QAAA,SAAAxG,MAAAwE,EAAA,aAAAa,WAAA,iBAAgFR,OAASC,KAAA,UAAAuC,SAAA7C,EAAA1E,aAA4C0F,IAAKC,MAAAjB,EAAAjC,OAAiBiC,EAAAc,GAAA,SAAAd,EAAAc,GAAA,KAAAZ,EAAA,aAA8C6B,aAAavH,KAAA,OAAAwH,QAAA,SAAAxG,MAAAwE,EAAA,gBAAAa,WAAA,oBAAsFR,OAASC,KAAA,UAAAuC,SAAA7C,EAAA1E,aAA4C0F,IAAKC,MAAAjB,EAAAvC,UAAoBuC,EAAAc,GAAA,sBAEtrHgC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE1I,EACAuF,GATF,EAVA,SAAAoD,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/28.1c7d10ee2478d664f2f9.js","sourcesContent":["<template>\n  <div>\n    <el-row>\n      <el-input\n        type=\"text\"\n        placeholder=\"请输入通讯录名称\"\n        maxlength=\"50\"\n        show-word-limit\n        v-model=\"name\"\n        class=\"searchInput\"\n      >\n      </el-input>\n      <el-button type=\"success\" class=\"searchBtn\" :loading=\"false\" @click=\"searchList\">查 询</el-button>\n      <el-button type=\"warning\" @click=\"clearInput\">清 空</el-button>\n      <el-button type=\"danger\" @click=\"showAddDialog\">创 建</el-button>\n    </el-row>\n\n    <el-row>\n      <el-col :span=\"8\" v-for=\"(item,index) in list\" :key=\"index\" style=\"margin-bottom: 20px;\">\n        <el-card class=\"box-card\" shadow=\"hover\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>{{item.name}}</span>\n            <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"showUpdateDialog(item)\">编辑</el-button>\n            <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"deleteUserBook(item)\">删除</el-button>\n          </div>\n          <div class=\"text item\">\n            <el-table\n              height=\"300\"\n              :data=\"item.userBookDetail\"\n              style=\"width: 100%\">\n              <el-table-column\n                prop=\"userId\"\n                label=\"用户Id\"\n                width=\"180\">\n              </el-table-column>\n              <el-table-column\n                prop=\"userName\"\n                label=\"名称\"\n                width=\"180\">\n              </el-table-column>\n            </el-table>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"page\" :limit.sync=\"limit\" @pagination=\"changeList\"/>\n    <el-dialog\n      :title=\"dialogTitle\"\n      :visible.sync=\"dialogVisible\"\n      width=\"35%\"\n      :before-close=\"handleClose\">\n      <el-row>\n        <el-col :span=\"12\">\n          <el-input\n            type=\"text\"\n            placeholder=\"请输入通讯录id\"\n            maxlength=\"30\"\n            show-word-limit\n            v-model=\"id_dialog\"\n            class=\"dialogInput\"\n            @focus=\"checkStatus = true\"\n            @blur=\"checkWord\"\n            v-show=\"bookIdDialog\"\n          >\n          </el-input>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-input\n            type=\"text\"\n            placeholder=\"请输入通讯录名称\"\n            maxlength=\"30\"\n            show-word-limit\n            v-model=\"name_dialog\"\n            class=\"dialogInput\"\n          ></el-input>\n        </el-col>\n      </el-row>\n      <el-row>\n        <el-transfer\n          filterable\n          :filter-method=\"filterMethod\"\n          filter-placeholder=\"请输入用户id\"\n          :titles=\"titles\"\n          v-model=\"value\"\n          :data=\"data\">\n        </el-transfer>\n      </el-row>\n      <span slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"dialogVisible = false\">取 消</el-button>\n    <el-button v-show=\"addBtnStatus\" type=\"primary\" @click=\"add\" :disabled=\"checkStatus\">添 加</el-button>\n    <el-button v-show=\"updateBtnStatus\" type=\"primary\" @click=\"update\" :disabled=\"checkStatus\">更 新</el-button>\n  </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import Pagination from '@/views/admin/Pagination'\n  import Cookies from 'js-cookie'\n\n  export default {\n    name: 'userBookList',\n    watch: {},\n    data() {\n      return {\n        name: '',\n        titles: ['未添加用户', '已添加用户'],\n        list: [],\n        total: 0,     //数据总条数\n        page: 1,    //默认显示第1页\n        limit: 10,   //默认一次显示10条数据\n        dialogVisible: false,\n        dialogTitle: '',\n        id_dialog: '',\n        name_dialog: '',\n        addBtnStatus: false,\n        updateBtnStatus: false,\n        checkStatus: true,\n        bookIdDialog: true,\n        data: [],\n        value: [],\n        filterMethod(query, item) {\n          return item.label.indexOf(query) > -1;\n        }\n      }\n    },\n    mounted() {\n      this.searchList()\n      this.getUserIdList()\n    },\n    methods: {\n      getUserIdList() {\n        this.$axios.get('auth/userList?start=&limit=&userId=&userName=&power=&structure=1')\n          .then(response => {\n            const data = [];\n            response.data.data.list.forEach((item, index) => {\n              data.push({\n                label: item.userId,\n                key: index\n              })\n            })\n            this.data = data\n          }).catch(err => {\n          console.log(err)\n        })\n      },\n      deleteUserBook(item) {\n        this.$confirm('是否确认删除该通讯录？ id:' + item.id + ' 名称:' + item.name, '确认删除', {\n          distinguishCancelAndClose: true,\n          confirmButtonText: '删除',\n          cancelButtonText: '取消'\n        }).then(() => {\n          this.$axios.get('userbook/deleteUserBook?id=' + item.id)\n            .then(() => {\n              this.alertMessage('删除成功')\n              this.searchList()\n            }).catch(err => {\n            this.alertMessage('删除失败' + err)\n          })\n        }).catch((err) => {\n          console.log(err)\n        })\n      },\n      update() {\n        if (this.name_dialog === '') {\n          this.alertMessage('通讯录名称不能为空')\n          return\n        }\n        if (this.value.length === 0) {\n          this.alertMessage('未选择任何用户')\n          return\n        }\n\n        const userList = []\n        this.data.forEach(item => {\n          const label = item.label\n          const key = item.key\n          this.value.forEach(val => {\n            if (val === key) {\n              userList.push(label)\n            }\n          })\n        })\n        const data = {\n          \"id\": this.id_dialog,\n          \"name\": this.name_dialog,\n          \"userList\": userList\n        }\n        this.$axios.post('userbook/updateUserBook', data)\n          .then(() => {\n            this.alertMessage('更新成功')\n            this.searchList()\n          }).catch((err) => {\n          this.alertMessage('更新失败' + err)\n        })\n        this.dialogVisible = false\n      },\n      add() {\n        if (this.name_dialog === '') {\n          this.alertMessage('通讯录名称不能为空')\n          return\n        }\n        if (this.value.length === 0) {\n          this.alertMessage('未选择任何用户')\n          return\n        }\n\n        const userList = []\n        this.data.forEach(item => {\n          const label = item.label\n          const key = item.key\n          this.value.forEach(val => {\n            if (val === key) {\n              userList.push(label)\n            }\n          })\n        })\n        const data = {\n          \"id\": this.id_dialog,\n          \"name\": this.name_dialog,\n          \"userList\": userList\n        }\n        this.$axios.post('userbook/addUserBook', data)\n          .then(() => {\n            this.alertMessage('添加成功')\n            this.searchList()\n          }).catch((err) => {\n          this.alertMessage('添加失败' + err)\n        })\n        this.dialogVisible = false\n      },\n      alertMessage(message) {\n        const h = this.$createElement\n        this.$message({\n          message: h('p', null, [\n            h('span', {style: 'color: teal'}, message)\n          ])\n        })\n      },\n      checkWord() {\n        if (this.id_dialog === '') {\n          this.checkStatus = true\n          this.alertMessage('通讯录ID不能为空')\n          return\n        }\n        this.$axios.get('userbook/checkId?id=' + this.id_dialog)\n          .then(response => {\n            console.log(response)\n            if (response.data.data) {\n              this.checkStatus = true\n              this.alertMessage('通讯录ID已存在')\n            } else {\n              this.checkStatus = false\n            }\n          }).catch(err => {\n          console.log(err)\n        })\n      },\n      showUpdateDialog(item) {\n        this.dialogTitle = '修改通讯录'\n        this.bookIdDialog = false\n        this.id_dialog = item.id\n        this.name_dialog = item.name\n        const userBookDetail = item.userBookDetail\n        const tempValue = []\n        this.data.forEach(item => {\n          const label = item.label\n          const key = item.key\n          userBookDetail.forEach(param => {\n            if (param.userId === label) {\n              tempValue.push(key)\n            }\n          })\n        })\n        this.value = tempValue\n        this.addBtnStatus = false\n        this.updateBtnStatus = true\n        this.dialogVisible = true\n        this.checkStatus = false\n      },\n      showAddDialog() {\n        this.dialogTitle = '添加通讯录'\n        this.bookIdDialog = true\n        this.name_dialog = ''\n        this.value = []\n        this.addBtnStatus = true\n        this.updateBtnStatus = false\n        this.dialogVisible = true\n        this.checkStatus = true\n      },\n      handleClose(done) {\n        /*this.$confirm('确认关闭？')\n          .then(() => {\n            done()\n          })\n          .catch(() => {\n          })*/\n        done()\n      },\n      axiosUrl() {\n        const start = (this.page - 1) * this.limit\n        const limit = this.limit\n        this.$axios.get('userbook/userBookList?start=' + start + '&limit=' + limit + '&name=' + this.name)\n          .then(response => {\n            this.list = response.data.data.list\n            this.total = response.data.data.total\n          }).catch(err => {\n          console.log(err)\n          Cookies.remove('token')\n          location.reload()\n        })\n      },\n      searchList() {\n        this.page = 1\n        this.axiosUrl()\n      },\n      changeList(data) {\n        if (data) {\n          this.limit = data.limit\n        }\n        this.axiosUrl()\n      },\n      clearInput() {\n        this.name = ''\n        this.searchList()\n      },\n      filterHandler(value, row, column) {\n        const property = column['property']\n        return row[property] === value\n      }\n    },\n    components: {Pagination}\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .dialogInput {\n    width: 95%;\n    margin-bottom: 20px;\n  }\n\n  .searchInput {\n    width: 20%;\n    margin: 10px 0px 10px 0px\n  }\n\n  .searchBtn {\n    margin-left: 10px;\n  }\n\n  .text {\n    font-size: 14px;\n  }\n\n  .item {\n    margin-bottom: 18px;\n  }\n\n  .clearfix:before,\n  .clearfix:after {\n    display: table;\n    content: \"\";\n  }\n\n  .clearfix:after {\n    clear: both\n  }\n\n  .box-card {\n    width: 480px;\n    height: 400px;\n  }\n\n  .pagination-container {\n    background: none !important;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/admin/userBookList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-input',{staticClass:\"searchInput\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入通讯录名称\",\"maxlength\":\"50\",\"show-word-limit\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"searchBtn\",attrs:{\"type\":\"success\",\"loading\":false},on:{\"click\":_vm.searchList}},[_vm._v(\"查 询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.clearInput}},[_vm._v(\"清 空\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.showAddDialog}},[_vm._v(\"创 建\")])],1),_vm._v(\" \"),_c('el-row',_vm._l((_vm.list),function(item,index){return _c('el-col',{key:index,staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"span\":8}},[_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.showUpdateDialog(item)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.deleteUserBook(item)}}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"text item\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"height\":\"300\",\"data\":item.userBookDetail}},[_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"用户Id\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"名称\",\"width\":\"180\"}})],1)],1)])],1)}),1),_vm._v(\" \"),_c('pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total>0),expression:\"total>0\"}],attrs:{\"total\":_vm.total,\"page\":_vm.page,\"limit\":_vm.limit},on:{\"update:page\":function($event){_vm.page=$event},\"update:limit\":function($event){_vm.limit=$event},\"pagination\":_vm.changeList}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitle,\"visible\":_vm.dialogVisible,\"width\":\"35%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bookIdDialog),expression:\"bookIdDialog\"}],staticClass:\"dialogInput\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入通讯录id\",\"maxlength\":\"30\",\"show-word-limit\":\"\"},on:{\"focus\":function($event){_vm.checkStatus = true},\"blur\":_vm.checkWord},model:{value:(_vm.id_dialog),callback:function ($$v) {_vm.id_dialog=$$v},expression:\"id_dialog\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{staticClass:\"dialogInput\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入通讯录名称\",\"maxlength\":\"30\",\"show-word-limit\":\"\"},model:{value:(_vm.name_dialog),callback:function ($$v) {_vm.name_dialog=$$v},expression:\"name_dialog\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-transfer',{attrs:{\"filterable\":\"\",\"filter-method\":_vm.filterMethod,\"filter-placeholder\":\"请输入用户id\",\"titles\":_vm.titles,\"data\":_vm.data},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addBtnStatus),expression:\"addBtnStatus\"}],attrs:{\"type\":\"primary\",\"disabled\":_vm.checkStatus},on:{\"click\":_vm.add}},[_vm._v(\"添 加\")]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.updateBtnStatus),expression:\"updateBtnStatus\"}],attrs:{\"type\":\"primary\",\"disabled\":_vm.checkStatus},on:{\"click\":_vm.update}},[_vm._v(\"更 新\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a09a53c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/userBookList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a09a53c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userBookList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userBookList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userBookList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a09a53c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userBookList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a09a53c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/userBookList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}