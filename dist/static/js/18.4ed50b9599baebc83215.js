webpackJsonp([18],{"3c4S":function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("3as3"),i=e("lbHh"),l=e.n(i),o={name:"gpsUserList",data:function(){return{gpsUserId:"",list:[],total:0,page:1,limit:10,dialogVisible:!1,dialogTitle:"",gpsUserId_dialog:"",gpsUserPassword_dialog:"",addBtnStatus:!1,updateBtnStatus:!1,checkStatus:!0,oldGpsUserId:""}},mounted:function(){this.searchList()},methods:{deleteGpsUser:function(s,t){var e=this;console.log(s,t),this.$confirm("是否确认删除该条记录？ ID:"+t.gpsUserId,"确认删除",{distinguishCancelAndClose:!0,confirmButtonText:"删除",cancelButtonText:"取消"}).then(function(){e.$axios.get("gpsuser/deleteGpsUser?gpsUserId="+t.gpsUserId).then(function(){e.alertMessage("删除成功"),e.searchList()}).catch(function(s){e.alertMessage("删除失败"+s)})}).catch(function(s){console.log(s)})},updateGpsUser:function(){var s=this,t={gpsUserId:this.gpsUserId_dialog,gpsUserPassword:this.gpsUserPassword_dialog,oldGpsUserId:this.oldGpsUserId};this.$axios.post("gpsuser/updateGpsUser",t).then(function(){s.alertMessage("更新成功"),s.searchList()}).catch(function(t){s.alertMessage("更新失败"+t)}),this.dialogVisible=!1},addGpsUser:function(){var s=this,t={gpsUserId:this.gpsUserId_dialog,gpsUserPassword:this.gpsUserPassword_dialog};this.$axios.post("gpsuser/addGpsUser",t).then(function(){s.alertMessage("添加成功"),s.searchList()}).catch(function(t){s.alertMessage("添加失败"+t)}),this.dialogVisible=!1},alertMessage:function(s){var t=this.$createElement;this.$message({message:t("p",null,[t("span",{style:"color: teal"},s)])})},checkGpsUserId:function(){var s=this;this.$axios.get("gpsuser/checkGpsUserId?gpsUserId="+this.gpsUserId_dialog).then(function(t){console.log(t),t.data.data&&s.gpsUserId_dialog!==s.oldGpsUserId?(s.checkStatus=!0,s.alertMessage("GPS用户Id已存在")):""===s.gpsUserId_dialog?(s.checkStatus=!0,s.alertMessage("组ID不能为空")):s.checkStatus=!1}).catch(function(s){console.log(s)})},showUpdateDialog:function(s,t){console.log(t),this.dialogTitle="修改GPS用户",this.gpsUserId_dialog=t.gpsUserId,this.gpsUserPassword_dialog=t.gpsUserPassword,this.oldGpsUserId=t.gpsUserId,this.addBtnStatus=!1,this.updateBtnStatus=!0,this.dialogVisible=!0,this.checkStatus=!1},showAddDialog:function(){this.dialogTitle="添加GPS用户",this.gpsUserId_dialog="",this.gpsUserPassword_dialog="",this.addBtnStatus=!0,this.updateBtnStatus=!1,this.dialogVisible=!0,this.checkStatus=!0},handleClose:function(s){s()},axiosUrl:function(){var s=this,t=(this.page-1)*this.limit,e=this.limit;this.$axios.get("gpsuser/gpsUserList?start="+t+"&limit="+e+"&gpsUserId="+this.gpsUserId).then(function(t){s.list=t.data.data.list,s.total=t.data.data.total}).catch(function(s){console.log(s),l.a.remove("token"),location.reload()})},searchList:function(){this.page=1,this.axiosUrl()},changeList:function(s){s&&(this.limit=s.limit),this.axiosUrl()},clearInput:function(){this.gpsUserId="",this.searchList()},filterHandler:function(s,t,e){return t[e.property]===s}},components:{Pagination:a.a}},n={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("el-input",{staticClass:"searchInput",attrs:{type:"number",placeholder:"请输入GPS用户Id(数字)",oninput:"if(value.length>11)value=value.slice(0,11);if(value<0)value=0"},model:{value:s.gpsUserId,callback:function(t){s.gpsUserId=t},expression:"gpsUserId"}}),s._v(" "),e("el-button",{staticClass:"searchBtn",attrs:{type:"success",loading:!1},on:{click:s.searchList}},[s._v("查 询")]),s._v(" "),e("el-button",{attrs:{type:"warning"},on:{click:s.clearInput}},[s._v("清 空")]),s._v(" "),e("el-button",{attrs:{type:"danger"},on:{click:s.showAddDialog}},[s._v("创 建")]),s._v(" "),[e("el-table",{staticStyle:{width:"100%"},attrs:{data:s.list}},[e("el-table-column",{attrs:{type:"index",label:"#"}}),s._v(" "),e("el-table-column",{attrs:{prop:"gpsUserId",label:"GPS用户Id"}}),s._v(" "),e("el-table-column",{attrs:{prop:"gpsUserPassword",label:"GPS用户密码"}}),s._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:s._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){return s.showUpdateDialog(t.$index,t.row)}}},[s._v("修改\n          ")]),s._v(" "),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return s.deleteGpsUser(t.$index,t.row)}}},[s._v("删除\n          ")])]}}])})],1)],s._v(" "),e("pagination",{directives:[{name:"show",rawName:"v-show",value:s.total>0,expression:"total>0"}],attrs:{total:s.total,page:s.page,limit:s.limit},on:{"update:page":function(t){s.page=t},"update:limit":function(t){s.limit=t},pagination:s.changeList}}),s._v(" "),e("el-dialog",{attrs:{title:s.dialogTitle,visible:s.dialogVisible,width:"30%","before-close":s.handleClose},on:{"update:visible":function(t){s.dialogVisible=t}}},[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-input",{staticClass:"dialogInput",attrs:{type:"number",placeholder:"请输入GPS用户Id(数字)",oninput:"if(value.length>11)value=value.slice(0,11);if(value<0)value=0"},on:{focus:function(t){s.checkStatus=!0},blur:s.checkGpsUserId},model:{value:s.gpsUserId_dialog,callback:function(t){s.gpsUserId_dialog=t},expression:"gpsUserId_dialog"}})],1),s._v(" "),e("el-col",{attrs:{span:12}},[e("el-input",{staticClass:"dialogInput",attrs:{type:"text",placeholder:"请输入GPS用户密码",maxlength:"50","show-word-limit":""},model:{value:s.gpsUserPassword_dialog,callback:function(t){s.gpsUserPassword_dialog=t},expression:"gpsUserPassword_dialog"}})],1)],1),s._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){s.dialogVisible=!1}}},[s._v("取 消")]),s._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:s.addBtnStatus,expression:"addBtnStatus"}],attrs:{type:"primary",disabled:s.checkStatus},on:{click:s.addGpsUser}},[s._v("添 加")]),s._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:s.updateBtnStatus,expression:"updateBtnStatus"}],attrs:{type:"primary",disabled:s.checkStatus},on:{click:s.updateGpsUser}},[s._v("更 新")])],1)],1)],2)},staticRenderFns:[]};var r=e("VU/8")(o,n,!1,function(s){e("Mj5b")},"data-v-447250ef",null);t.default=r.exports},Mj5b:function(s,t){}});
//# sourceMappingURL=18.4ed50b9599baebc83215.js.map